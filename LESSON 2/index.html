<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      // let target = {
      //     a: 1,
      //     b: 2
      // }
      // let source1 = {
      //     c: 3,
      //     d: 4
      // }
      // let source2 = {
      //     a: 5,
      //     c: 6
      // }

      // let newObj = Object.assign(target, source1, source2);
      // newObj = Object.assign({}, source1, source2)
      // console.log(newObj);

      /**
       * Spread Syntax
       */
      const arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
      // ...arr = 1,2,3,4,5,6,7,8,9,10
      // console.log(Math.max(...arr));
      function sum(a, b, c) {
        return a + b + c;
      }
      // ...arr = 1,2,3
      console.log(sum(...arr));

      // Copy và ghép nối mảng
      const arr1 = [1, 2, 3];
      const arr2 = [...arr1];
      // Copy
      // ...arr1 = 1,2,3
      // -> [...arr1] = [1,2,3]
      console.log(arr1);
      console.log(arr2);

      // Ghép nối
      // ...arr1 = 1,2,3
      // ...arr2 = 1,2,3
      // ...arr1, ...arr2 = 1,2,3,1,2,3
      // [...arr1, ...arr2] = [1,2,3,1,2,3]
      const arr3 = [...arr1, ...arr2];
      console.log(arr3);

      const obj1 = {
        name: "Nguyen Van A",
        age: 20,
      };
      const obj2 = {
        address: "Ha Noi",
      };
      // ...obj1 = name: "Nguyen Van A", age:20
      // ...obj2 = address: "Ha Noi"
      // ...obj1, ...obj2 = "Nguyen Van A", age:20, address: "Ha Noi"
      // {...obj1, ...obj2} = {"Nguyen Van A", age:20, address: "Ha Noi"}
      const obj3 = { ...obj1, ...obj2 };
      console.log(obj3);

      //   Biến chuỗi thành mảng
      const str = "Hello World";
      // ...str = H,e,l,l,o, ,W,o,r,l,d
      const chars = [...str];
      console.log(chars);

      /**
       * Array map & Array filter
       */

      //    các hàm array được dùng cho các biến mảng
      // Cú pháp: array.map() array.filter() array.forEach() ...

      // Map: Dùng để duyệt qua từng phần tử trong mảng và thực hiện 1 hình động nào đó, và trả về MẢNG MỚI có số lượng phần tử giống hệt mảng gốc
      // Cú pháp: array.map(function(item, index, array) {});
      // map nhận vào 1 hàm khác để làm tham số cho mình (hàm Callback)
      const arrOri = [1, 2, 3, 4, 5];
      // item: phần tử hiệnt ại
      // index: chỉ số của phần từ hiện tại
      // array: mảng gốc
      // map bắt buộc phải return để trả ra dữ liệu cho mảng mới
      // const arrNew = arrOri.map((item, index, array) => {
      //     return item * index;    /*đây là 1 blockscope*/
      // });
      const arrNew = arrOri.map((item, index, array) => item * index);
      console.log(arrNew);
      // Tương đương với arrOri.map(function() {})

      // Filter: Dùng để lọc ra các phần tử thỏa mãn điều kiện nào đó, và trả về MẢNG MỚI có số lượng phần tử nhỏ hơn hoặc bằng mảng gốc
      // Từ mảng gốc lọc ra các phần tử lớn hơn 2
      // Cú pháp: array.filter(function(item, index, array) {});
      // item: phần tử hiệnt ại
      // index: chỉ số của phần từ hiện tại
      // array: mảng gốc
      //   filter bắt buộc phải return để trả ra dữ liệu cho mảng mới
      const arrFiltered = arrOri.filter((item, index, array) => {
        // viết logic ktra ở đây, nếu thỏa mãn thì return true để trả về item vào mảng mới, ngược lại return false sẽ không trả về item
        if (item > 2) {
          return true;
        } else {
          return false;
        }
      });
      console.log(arrFiltered);

    //   VD
    const products = [
        {
            id: 1,
            price: 12,
            sale: 10,
            color: "red",
        },
        {
            id: 2,
            price: 10,
            sale: 0,
            color: "blue",
        }
    ];

    console.log(products);
    const mappedProducts = products.map((item) => {
        item.price = `$${(item.price * item.sale) /100}`;

        return item;
    });
    console.log(mappedProducts);

    const redProducts = products.filter((item) => {
      if (item.color == "red") {
        return true;
      } else {
        return false;
      }
    });
    console.log(redProducts);
    </script>
  </body>
</html>
